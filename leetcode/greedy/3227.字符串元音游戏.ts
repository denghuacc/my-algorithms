/*
 * @lc app=leetcode.cn id=3227 lang=typescript
 *
 * [3227] 字符串元音游戏
 *
 * https://leetcode.cn/problems/vowels-game-in-a-string/description/
 *
 * algorithms
 * Medium (55.34%)
 * Likes:    17
 * Dislikes: 0
 * Total Accepted:    20.9K
 * Total Submissions: 30.2K
 * Testcase Example:  '"leetcoder"'
 *
 * 小红和小明在玩一个字符串元音游戏。
 *
 * 给你一个字符串 s，小红和小明将轮流参与游戏，小红 先 开始：
 *
 *
 * 在小红的回合，她必须移除 s 中包含 奇数 个元音的任意 非空 子字符串。
 * 在小明的回合，他必须移除 s 中包含 偶数 个元音的任意 非空 子字符串。
 *
 *
 * 第一个无法在其回合内进行移除操作的玩家输掉游戏。假设小红和小明都采取 最优策略 。
 *
 * 如果小红赢得游戏，返回 true，否则返回 false。
 *
 * 英文元音字母包括：a, e, i, o, 和 u。
 *
 *
 *
 * 示例 1：
 *
 *
 * 输入： s = "leetcoder"
 *
 * 输出： true
 *
 * 解释：
 * 小红可以执行如下移除操作来赢得游戏：
 *
 *
 * 小红先手，她可以移除加下划线的子字符串 s = "leetcoder"，其中包含 3 个元音。结果字符串为 s = "der"。
 * 小明接着，他可以移除加下划线的子字符串 s = "der"，其中包含 0 个元音。结果字符串为 s = "er"。
 * 小红再次操作，她可以移除整个字符串 s = "er"，其中包含 1 个元音。
 * 又轮到小明，由于字符串为空，无法执行移除操作，因此小红赢得游戏。
 *
 *
 *
 * 示例 2：
 *
 *
 * 输入： s = "bbcd"
 *
 * 输出： false
 *
 * 解释：
 * 小红在她的第一回合无法执行移除操作，因此小红输掉了游戏。
 *
 *
 *
 *
 * 提示：
 *
 *
 * 1 <= s.length <= 10^5
 * s 仅由小写英文字母组成。
 *
 *
 */

// @lc code=start
/**
 * 判断小红（Alice）是否能赢得字符串元音游戏
 *
 * @param s - 仅由小写字母组成的字符串
 * @returns 如果小红能赢返回 true，否则返回 false
 *
 * @example
 * ```typescript
 * doesAliceWin("leetcoder"); // true
 * doesAliceWin("bbcd"); // false
 * ```
 */
function doesAliceWin(s: string): boolean {
  // 只要字符串中存在至少一个元音字母，小红必胜
  // 因为她可以在第一回合移除一个只包含1个元音的子串（如单个元音字符），让对方面对无元音的字符串
  // 如果没有元音，小红无法进行任何操作，直接失败
  return Array.from(s).some((c) => "aeiou".includes(c));
}

/*
解题思路详解：

1. 问题本质：
  - 两人轮流移除包含奇数/偶数个元音的非空子串，无法操作者输
  - 小红先手，移除奇数元音子串；小明后手，移除偶数元音子串
  - 目标：判断小红是否必胜

2. 算法分析：
  - 时间复杂度：O(n)，n为字符串长度（一次遍历判断是否有元音）
  - 空间复杂度：O(1)
  - 算法类型：博弈论、贪心

3. 核心思路：
  - 只要字符串中存在元音字母，小红必胜
  - 小红第一步可以移除任意一个元音字符（单字符子串，奇数个元音），剩下的字符串要么没有元音，要么继续重复此操作
  - 如果没有元音，小红无法操作，直接失败

4. 关键观察：
  - 小红的策略是每次移除一个元音字符，保证每轮都能操作，直到小明无法操作
  - 小明只能移除偶数个元音的子串，但如果没有元音，无法操作

5. 示例分析：
  - 示例1：s = "leetcoder"
    - 小红移除 'e'，剩下 "letcoder"，继续移除，最终小明面对无元音字符串，无法操作
    - 小红必胜
  - 示例2：s = "bbcd"
    - 没有元音，小红无法操作，直接失败

6. 边界情况：
  - 字符串全为辅音：小红直接失败
  - 字符串全为元音：小红每次移除一个元音，必胜

7. 常见错误：
  - 误以为需要复杂的区间DP或模拟，实际只需判断是否有元音
  - 忽略了单字符子串也算合法操作

8. 扩展思考：
  - 如果规则变为小红移除偶数元音、小明移除奇数元音，结论会反转
  - 如果允许移除的子串有长度限制，需用区间DP分析
*/
